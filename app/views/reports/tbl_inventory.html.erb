<div id="content" class="span10">
<!-- content starts -->
			
   <div class="row-fluid sortable">		
      <div class="box span12">
         <%= render :partial => 'layouts/title_bar_icons',
                    :locals => { :header_title => "Device Inventory",
                                 :header_link  => "#" }
         %>
         <div class="box-content">
            <table id="dataTable" class="table table-striped table-bordered bootstrap-datatable">
               <thead>
	          <tr>
	             <th>Username</th>
		           <th>IP Address</th>
               <th>Device</th>
               <th>Device Class</th>
               <th>Device Type </th>
		           <th>Operating System</th>
               <th>OS Version</th>
	   	         <th>DVI</th>
               <th>Jailbroken</th>
               <th>Last Seen</th>
	          </tr>
	       </thead>   
         <tfoot>
            <tr>
               <th rowspan="1" colspan="1"></th>
               <th rowspan="1" colspan="1"></th>
               <th rowspan="1" colspan="1"></th>
               <th rowspan="1" colspan="1"></th>
               <th rowspan="1" colspan="1"></th>
               <th rowspan="1" colspan="1"></th>
               <th rowspan="1" colspan="1"></th>
               <th rowspan="1" colspan="1"></th>
               <th rowspan="1" colspan="1"></th>
               <th rowspan="1" colspan="1"></th>
          </tr>
         </tfoot>
	       <tbody>
                  <% @deviceinfos.each do |deviceinfo| %>
                     <tr>
                        <td><%= deviceinfo.username %></td>
                        <td><%= deviceinfo.ipaddr %></td>
                        <td><%= link_to deviceinfo.macid, :action=> "device_details", :device => deviceinfo.macid %></td>
                        <td><%= deviceinfo.deviceclass %></td>
                        <td><%= deviceinfo.devicetype %></td>
                        <td><%= deviceinfo.operatingsystem %></td>
                        <td><%= deviceinfo.osversion %></td>
                        <td><%= deviceinfo.dvi %></td>
                        <td><%= if ((deviceinfo.weight & 0x00FF0000) > 0) then "Yes" else "No" end %></td>
                        <td><%= deviceinfo.updated_at %></td>
                     </tr>
                  <% end %>
               </tbody>
            </table>

         </div> <!-- box-content -->
      </div> <!-- box span12 -->
   </div><!-- row-fluid sortable -->
</div><!-- content ends -->

<script type="text/javascript">
//datatable
$(document).ready(function() {
  var oTable = $('#dataTable').dataTable({
      "sDom": "<'row-fluid'<'span6'l><'span6'f>r>t<'row-fluid'<'span12'i><'span12 center'p>>",
      "bJQueryUI": true,
      "sPaginationType": "bootstrap",
      "oLanguage": {
      "sSearch": "Search all columns: ",
      "sLengthMenu": "_MENU_ records per page"
      }
    } );

/* Add a select menu for each TH element in the table footer */
  $("tfoot th").each( function ( i ) {
    switch (i)
    {
       case 2:
              this.innerHTML = fnCreateSelect( oTable.fnGetColumnData(i, true, true /* dont generate combobox values for Macid */) );
              break;
       case 9:
              this.innerHTML = fnCreateSelect( oTable.fnGetColumnData(i, false, true /* dont generate combobox values for Last seen date */) );
              break;
       default:
              this.innerHTML = fnCreateSelect( oTable.fnGetColumnData(i) );
              break;
    }   

    $('select', this).change( function () {
      oTable.fnFilter( $(this).val(), i );
    } );
  } );

});
</script>
